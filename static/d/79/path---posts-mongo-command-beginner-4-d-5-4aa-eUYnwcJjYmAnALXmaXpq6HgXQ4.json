{"data":{"site":{"siteMetadata":{"title":"Blog by AnhTus","subtitle":"Imagination more important than knowledge. Knowledge is limited. Imagination encircles the world\n      \n      from \"Albert Einstein\"\n      ","copyright":"© All rights reserved.","author":{"name":"Vu Anh Tu","twitter":"VuAnhTus"},"disqusShortname":"anhtus","url":"https://vuanhtu1993.github.io/blog/"}},"markdownRemark":{"id":"3b0ea564-846d-5323-a2ed-1c28461919a7","html":"<h3>1. Log Into MongoDB</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mongo -u &lt;username&gt; -p &lt;password&gt; --authenticationDatabase &lt;dbname&gt;</code></pre></div>\n<p>Câu lệnh được sử dụng để xác thực vào db ở local</p>\n<h3>2. Show All Databases</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">show dbs</code></pre></div>\n<p>Show tất cả các DB</p>\n<h3>3. Select Database to Work With</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">use &lt;dbname&gt;</code></pre></div>\n<p>Chọn DB sử dụng</p>\n<h3>4. Authenticate and Log Out From Database</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// Authenticate\n//\ndb.auth(&quot;username&quot;, &quot;password&quot;);\n//\n// Logout\n//\ndb.logout()</code></pre></div>\n<p>Khi chuyển sang một DB khác, cẩn phải xác thực để sử dụng DB và logout khỏi </p>\n<h3>5. List Down Collections, Users, Roles, etc.</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//\n// List down collections of the current database\n//\nshow collections;\ndb.getCollectionNames();\n//\n// List down all the users of current database\n//\nshow users;\ndb.getUsers();\n//\n// List down all the roles\n//\nshow roles</code></pre></div>\n<h3>6. Create a Collection</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">db.createCollection(&quot;collectionName&quot;);</code></pre></div>\n<h3>7. Insert a Document in a Collection</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">db.createCollection(&quot;collectionName&quot;);</code></pre></div>\n<h3>7. Insert a Document in a Collection</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//\n// Insert single document\n//\ndb.&lt;collectionName&gt;.insert({field1: &quot;value&quot;, field2: &quot;value&quot;})\n//\n// Insert multiple documents\n//\ndb.&lt;collectionName&gt;.insert([{field1: &quot;value1&quot;}, {field1: &quot;value2&quot;}])\ndb.&lt;collectionName&gt;.insertMany([{field1: &quot;value1&quot;}, {field1: &quot;value2&quot;}])</code></pre></div>\n<h3>8. Save or Update Document</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//\n// Matching document will be updated; In case, no document matching the ID is found, a new document is created\n//\ndb.&lt;collectionName&gt;.save({&quot;_id&quot;: new ObjectId(&quot;jhgsdjhgdsf&quot;), field1: &quot;value&quot;, field2: &quot;value&quot;});</code></pre></div>\n<p>Câu lệnh này thực hiện hoặc là thêm mới họăc là update trường thông tin phụ thuộc voà giá trị của _id</p>\n<h3>9. Display Collection Records</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//\n// Retrieve all records\n//\ndb.&lt;collectionName&gt;.find();\n//\n// Retrieve limited number of records; Following command will print 10 results;\n//\ndb.&lt;collectionName&gt;.find().limit(10);\n//\n// Retrieve records by id\n//\ndb.&lt;collectionName&gt;.find({&quot;_id&quot;: ObjectId(&quot;someid&quot;)});\n//\n// Retrieve values of specific collection attributes by passing an object having \n// attribute names assigned to 1 or 0 based on whether that attribute value needs \n// to be included in the output or not, respectively.\n//\ndb.&lt;collectionName&gt;.find({&quot;_id&quot;: ObjectId(&quot;someid&quot;)}, {field1: 1, field2: 1});\ndb.&lt;collectionName&gt;.find({&quot;_id&quot;: ObjectId(&quot;someid&quot;)}, {field1: 0}); // Exclude field1\n//\n// Collection count\n//\ndb.&lt;collectionName&gt;.count();</code></pre></div>\n<h3>10. Administrative Commands</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">//\n// Get the collection statistics \n//\ndb.&lt;collectionName&gt;.stats()\ndb.printCollectionStats()\n//\n// Latency statistics for read, writes operations including average time taken for reads, writes\n// and related umber of operations performed\n//\ndb.&lt;collectionName&gt;.latencyStats()\n//\n// Get collection size for data and indexes\n//\ndb.&lt;collectionName&gt;.dataSize() // Size of the collection\ndb.&lt;collectionName&gt;.storageSize() // Total size of document stored in the collection\ndb.&lt;collectionName&gt;.totalSize() // Total size in bytes for both collection data and indexes\ndb.&lt;collectionName&gt;.totalIndexSize() // Total size of all indexes in the collection</code></pre></div>","fields":{"tagSlugs":["/tags/node-js/","/tags/web-api/","/tags/express/"]},"frontmatter":{"title":"Some mongoDB command for beginner","tags":["NodeJS","Web API","Express"],"date":"2019-03-29T00:00:00.000Z","description":"Some useful command to work with mongoDB for beginner, let's get started"}}},"pageContext":{"slug":"/posts/mongo-command-beginner/"}}