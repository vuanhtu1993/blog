{"data":{"site":{"siteMetadata":{"title":"Blog by AnhTus","subtitle":"Imagination more important than knowledge. Knowledge is limited. Imagination encircles the world\n      \n      from \"Albert Einstein\"\n      ","copyright":"© All rights reserved.","author":{"name":"Vu Anh Tu","twitter":"VuAnhTus"},"disqusShortname":"anhtus","url":"https://vuanhtu1993.github.io/blog/"}},"markdownRemark":{"id":"3a3d0b36-460c-50f2-892c-918d86adba59","html":"<h4>Sau khi ôn lại một ít kiến thức về webpack thì đến kiến thưc chính nhé ! 2 năm đọc lại méo hiểu gì</h4>\n<p><em><a href=\"https://vuanhtu1993.github.io/blog/posts/webpack-and-style-loader/\">https://vuanhtu1993.github.io/blog/posts/webpack-and-style-loader/</a> Đọc trước cái này nhé anh em</em></p>\n<h4><em>Hà nội ngày 25/06/2021</em></h4>\n<h3>Installation</h3>\n<ol>\n<li>\n<p>Install React, Webpack, and Babel</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install react react-dom\nnpm install --save-dev webpack webpack-cli webpack-dev-server html-webpack-plugin @babel/core babel-loader @babel/preset-env @babel/preset-react</code></pre></div>\n<h4>Here’s what each package does:</h4>\n</li>\n<li>\n<p><strong>react</strong>: UI library for creating modular components</p>\n</li>\n<li>\n<p><strong>react-dom</strong>: enables us to render the React within the browser DOM</p>\n</li>\n<li>\n<p><strong>webpack</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Module bundler - là công cụ để build các module trong javascript\n**Quan trọng** Công việc cốt lõi là merge tất cả các file js thành 1 file\n**Module** là một khái niệm trong NodeJS (không có trong các browser thông thường) \n**Create module** sử dụng module.export = object\n**Load module** sử dụng required để load file</code></pre></div>\n</li>\n<li>\n<p><strong>webpack-cli</strong>: allows webpack to work with CLI commands</p>\n</li>\n<li>\n<p><strong>webpack-dev-server</strong>: transforms our source code and serves it on a web server as we develop it continuously. This helps use see the output of your code in the browser.</p>\n</li>\n<li>\n<p><strong>html-webpack-plugin</strong>: an extension to webpack that adds the basic index html file</p>\n</li>\n<li>\n<p><strong>@babel/core</strong>: a JavaScript transpiler to converts modern JavaScript into a production-ready version that’s compatible with all browsers.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">**Quan trong** Babel là Javasccript Transpiler dùng để chuyển đổi code JS (không bao gồm scss, css ...) phiên bản mới thành JS phiên bản cũ</code></pre></div>\n</li>\n<li>\n<p><strong>babel-loader</strong>: connects Babel to webpack’s build process</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">**Quan trọng** Loader là cầu nối để nối babel, css, scss, asset vào với Webpack. Méo hiểu sao phức tạp vc</code></pre></div>\n</li>\n<li>\n<p><strong>@babel/preset-env</strong>: group of commonly used Babel plugins bundled into a preset that converts modern JavaScript features into widely compatible syntax</p>\n</li>\n<li>\n<p><strong>@babel/preset-react</strong>: React-specific Babel plugins that convert JSX syntax into plain old JavaScript that browsers can understand</p>\n</li>\n</ol>\n<p>Quick note: —save-dev flag is for partitioning the dependencies into development-specific dependencies, so that they are not included in the production JavaScript bundle</p>\n<ol start=\"2\">\n<li>\n<p>Create the files</p>\n</li>\n</ol>\n<p><em>Copy and paste the following code into each file:</em></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">touch webpack.config.js\nmkdir src\ncd src\ntouch index.js\ntouch index.html</code></pre></div>\n<p><em>webpack.config.js</em></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// the output bundle won't be optimized for production but suitable for development</span>\n  mode<span class=\"token punctuation\">:</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// the app entry point is /src/index.js</span>\n  entry<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'index.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n  \t<span class=\"token comment\">// the output of the webpack build will be in /dist directory</span>\n    path<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// the filename of the JS bundle will be bundle.js</span>\n    filename<span class=\"token punctuation\">:</span> <span class=\"token string\">'bundle.js'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  module<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n      \t<span class=\"token comment\">// for any file with a suffix of js or jsx</span>\n        test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.jsx?$/</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// ignore transpiling JavaScript from node_modules as it should be that state</span>\n        exclude<span class=\"token punctuation\">:</span> <span class=\"token regex\">/node_modules/</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// use the babel-loader for transpiling JavaScript to a suitable format</span>\n        loader<span class=\"token punctuation\">:</span> <span class=\"token string\">'babel-loader'</span><span class=\"token punctuation\">,</span>\n        options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// attach the presets to the loader (most projects use .babelrc file instead)</span>\n          presets<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@babel/preset-react\"</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// add a custom index.html as the template</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> template<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><em>src/index.js</em></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom'</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>App<span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><em>src/index.html - bundle.js được config ở bên trong webpack.config.js</em></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Hello world App<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script language-javascript\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<ol start=\"3\">\n<li>\n<p>Config trong package.json</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack-dev-server --open\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"dev\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack serve --config webpack.config.js --progress\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ISC\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.2\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^17.0.2\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"token property\">\"@babel/core\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.14.6\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"@babel/preset-env\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.14.7\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"@babel/preset-react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^7.14.5\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"babel-loader\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^8.2.2\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"html-webpack-plugin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.3.2\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^5.40.0\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"webpack-cli\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^4.7.2\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"webpack-dev-server\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.11.2\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Đến thời điểm này đã có thể run được project <em>so happy :)</em></strong></p>\n</li>\n<li>\n<p>Config scss - Chắc không thanh niên nào muốn code css 1 dự án lớn đâu</p>\n</li>\n</ol>\n<p><strong><em>Đù mé vẫn chưa xong à, nhiều vc lần 2</em></strong></p>\n<blockquote>\n<p>Vậy là đã hiểu Webpack để bundle các module thành 1 file để có để deploy,\nbabel transpile code ES mới thành js version cũ\nloader là cầu nối giữa babel, scss, css, asset (thông qua import nhá) với webpack rồi nhá !!! Cố hiểu đi ae\n=> Tức là cứ có chữ import là webpack vào việc chẳng cần biết import cái gì (scss, css, image, js …)</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">**Tư duy** scss chắc chắn thuộc nhóm loader rồi search tiếp nào - ơn giời xong sass loader có config webpack luôn\n\nnpm install sass-loader sass --save-dev</code></pre></div>\n<h4><em>Hà nội 28/06/2021</em></h4>\n<blockquote>\n<p>Nhận ra rằng làm việc khó trong 1 lúc một chốc 1 lát là rất không hiệu quả\ncông việc thường xuyên xảy ra lỗi, nôn nóng => Không tìm được phương án tốt\nnhất mà chỉ muốn làm sao để cho xong</p>\n</blockquote>\n<p>Tiếp nhé ae !!! - Sau khi cài đặt sass và sass-loader cần phải apply vào trong config của webpack</p>\n<p><span style=\"color:red\"><em>Quan trọng</em>:</span> Các loader đều được khai báo trong module (Mỗi rules là một loader).</p>\n<p>Lúc này file webpack.config.js => module sẽ như thế này</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// for any file with a suffix of js or jsx</span>\n        test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.jsx?$/</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// ignore transpiling JavaScript from node_modules as it should be that state</span>\n        exclude<span class=\"token punctuation\">:</span> <span class=\"token regex\">/node_modules/</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// use the babel-loader for transpiling JavaScript to a suitable format</span>\n        loader<span class=\"token punctuation\">:</span> <span class=\"token string\">'babel-loader'</span><span class=\"token punctuation\">,</span>\n        options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// attach the presets to the loader (most projects use .babelrc file instead)</span>\n          presets<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"@babel/preset-react\"</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.s[ac]ss$/i</span><span class=\"token punctuation\">,</span>\n        use<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token comment\">// Creates `style` nodes from JS strings</span>\n          <span class=\"token string\">\"style-loader\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// Translates CSS into CommonJS</span>\n          <span class=\"token string\">\"css-loader\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">// Compiles Sass to CSS</span>\n          <span class=\"token string\">\"sass-loader\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>{“mode”:“full”,“isActive”:false}</p>","fields":{"tagSlugs":["/tags/react/","/tags/web-development/","/tags/webpack/"]},"frontmatter":{"title":"Build a pure react app from nothing to understanding webpack","tags":["React","Web Development","Webpack"],"date":"2021-07-13T00:00:00.000Z","description":"Build a react app from nothing without create-react-app. Good for the guys want to understanding "}}},"pageContext":{"slug":"/posts/pure-react-and-webpack/"}}